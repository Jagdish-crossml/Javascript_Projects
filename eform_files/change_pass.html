<!DOCTYPE html>
<html lang="en">

<head>
    <link href='https://fonts.googleapis.com/css?family=Manrope' rel='stylesheet'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/change_pass.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />

    <title>
        popup window
    </title>
</head>

<body>
    <div id="topdiv"><img id="arrow" src="assets/down.png"></div>
    <div id="rectangle1">
        <img id="eimg" alt="e-form" src="assets/e.png">
        <img id="uimg" alt="user" src="assets/Oval.png">
        <img id="dimg" alt="down" src="assets/sdown.png">
        <label id="toplabel">Change password</label>
        <div id="rectangle2">
            <label id="oldplabel">Old Password</label>
            <input type="password" id="opassword" class="opassword" placeholder="Enter Old Password">
            <label id="newplabel">New Password</label>
            <input type="password" id="npassword" class="npassword" placeholder="Enter New Password">
            <i class="bi bi-eye-slash" id="togglePassword"></i>

            <a style="float:right;" href="#" id="gen">Generate Password </a>
            <div id="myModal" class="modal">

                <!-- Modal content -->
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <img id="key" alt="key" src="assets/key.png">
                    <p id="genlabel">Use password generated by Eform</p>
                    <p id="regex">pA;LQ[\)0>KX+f}jD </p>
                </div>

            </div>
            <label id="replabel">Repeat Password</label>
            <input type="password" id="rpassword" class="rpassword" placeholder="Repeat New Password">
            <button type="button" id="cancelbtn" class="btn btn-primary">Cancel</button>
            <button type="button" id="savebtn" class="btn btn-primary">Save</button>
        </div>

    </div>
    <script>
        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("gen");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function() {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }



        const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#npassword');
        togglePassword.addEventListener('click', function(e) {
            // toggle the type attribute
            const type = password.getAttribute('type') === 'npassword' ? 'text' : 'npassword';
            password.setAttribute('type', type);
            // toggle the eye / eye slash icon
            this.classList.toggle('bi-eye');
        });
    </script>
</body>